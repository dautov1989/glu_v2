ТЗ: Реализация динамической витрины статей «Bento Grid» для портала Glucosa

1. Общее описание задачи

Необходимо внедрить новую систему отображения материалов — Bento Grid в стиле «Асимметричная мозаика». Данный вид становится режимом по умолчанию при загрузке любой категории. Размер карточек и их визуальное наполнение автоматически зависят от популярности материала (views_count) и SEO-данных.

2. Логика интеграции и ограничения

Контейнер: Новая сетка должна быть строго ограничена шириной основного контентного блока сайта (согласно текущей верстке, ~800-900px в зависимости от наличия сайдбара). Статьи не должны выходить за пределы родительского контейнера.

Режимы отображения: Текущие режимы (плитка и список) сохраняются как альтернативные. Кнопка переключения видов дополняется иконкой "Bento", которая активна по умолчанию.

3. Визуальная концепция и Брендинг

3.1. Цветовая палитра (Медицинская стилистика)

Для программных градиентов использовать только следующие пары цветов, соответствующие гамме Glucosa:

Основной синий: #E3F2FD → #2196F3 (для популярных L-блоков).

Медицинский бирюзовый: #E0F2F1 → #00897B (акцент на гаджеты/технологии).

Нейтральный стальной: #F5F5F5 → #9E9E9E (для архивных или общих тем).

Мягкий индиго: #E8EAF6 → #3F51B5 (для глубоких аналитических статей).

3.2. Программный фон (CSS Backgrounds)

Градиенты: Реализуются через linear-gradient (угол 135°).

Иконки: Библиотека из 20 Inline SVG (диета, спорт, гаджеты). Размещение: position: absolute, в нижнем правом углу карточки, прозрачность 0.1 - 0.15.

3.3. Стилизация (Glassmorphism)

Подложка текста: background: rgba(255, 255, 255, 0.2);

Эффект размытия: backdrop-filter: blur(10px);

Граница карточки: 1px solid rgba(255, 255, 255, 0.3);

3.4. Статусные бейджи (Хештеги состояния)

На карточках (преимущественно L и M) в верхней части должны выводиться цветные индикаторы состояния:

#ТОП (Красный/Оранжевый акцент): Для статьи с максимальным количеством просмотров в категории.

#ПОПУЛЯРНОЕ (Синий акцент): Для статей, входящих в ТОП-5 по просмотрам.

#НОВОЕ (Зеленый акцент): Для статей, опубликованных за последние 7 дней.

Стиль: Компактные плашки с закруглением 20px, белым текстом и небольшим свечением (box-shadow) в цвет плашки.

4. Логика распределения контента

Тип блока

Приоритет

Размер (Desktop)

Источники контента

L (Large)

Топ-1

2x2 или 3x2

Заголовок + Описание + Теги + Бейдж #ТОП + Кнопка

M (Medium)

Топ 2 – 4

2x1 (горизонтальный)

Заголовок + Краткое описание + Теги + Бейдж #ПОПУЛЯРНОЕ

S (Small)

Остальные

1x1 (квадрат)

Только Заголовок + Иконка + Бейдж #НОВОЕ (если применимо)

5. Технические требования

5.1. Верстка (Grid Layout & Spacing)

Сетка: display: grid; gap: 24px;

Колонки: grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));

Внутренние отступы: padding: 20px;

Плотность: grid-auto-flow: dense; — обязательный параметр для исключения пустот.

5.2. Адаптивность

Desktop: Асимметричный Bento (3-4 колонки).

Mobile: Одна колонка. На мобильных устройствах бейджи (#ТОП и др.) выносятся над заголовком.

5.3. Автоматизация данных (Fallback-логика)

Источник анонса: <meta name="description"> (fallback: первые 150 символов текста).

Источник тегов: <meta name="keywords"> (лимит — первые 4 слова. Fallback: название категории).

Сортировка: ORDER BY views_count DESC.

5.4. Пагинация и подгрузка контента

Для сохранения целостности Bento-сетки рекомендуется использовать динамическую подгрузку:

Метод: Кнопка «Показать ещё» (Load More) под сеткой.

Логика блоков: Новая порция статей подгружается в виде стандартных блоков M и S. Блок L (ТОП) всегда остается в единственном числе на самом верху первой страницы.

SEO-сохранение: Для поисковых роботов сохранять скрытую постраничную навигацию (pagination links) в футере или использовать history.pushState при подгрузке, чтобы URL менялся на /page/2/ без перезагрузки всей сетки.

6. Интерактив и Анимация

6.1. Общие эффекты

Hover: Плавный подъем карточки (transform: translateY(-5px)) и усиление тени.

Кнопки: Стиль «Стекло», закругление 14px. Текст: «Читать».

6.2. Спецэффекты для ТОП-статьи (Тип L)

Для привлечения внимания к самому популярному материалу внедрить микро-анимации:

Дыхание фона (Background Pulse): Медленное циклическое изменение градиента (смещение на 5-10% по оси или легкое изменение насыщенности цвета) с периодом 5-7 секунд.

Анимация бейджа: Бейдж #ТОП имеет мягкое свечение (glow), которое плавно пульсирует (изменение box-shadow).

Появление: При первой загрузке страницы карточка L появляется с задержкой в 200ms и легким эффектом fade-in-up.